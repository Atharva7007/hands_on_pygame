import pygameimport randompygame.init()# Display variablesdisplay_height = 600display_width = 800# Color definitionsblack = (0, 0, 0)white = (255, 255, 255)red = (255, 0, 0)green = (0, 255, 0)blue = (0, 0, 255)bright_red = (200, 0, 0)bright_green = (0, 200, 0)bright_blue = (0, 0, 200)yellow = (255, 255, 0)purple = (82,24,250)pink = (255,145,175)game_display = pygame.display.set_mode((display_width, display_height))pygame.display.set_caption('Car Game')clock = pygame.time.Clock()car_img = pygame.image.load('racecar.png')# Car variablescar_width, car_height = car_img.get_rect().size# Car variables for game playcar_x = display_width / 2 - car_width / 2car_y = display_height * 0.8car_turn = 5x_change = 0# Object variablesthing_width = 100thing_height = 200thing_speed = 3thing_start_x = random.randrange(0, display_width - thing_width)thing_start_y = -500thing_color = black# Score variablesdodged = 0####################################def select_theme():	while True:		for event in pygame.event.get():			if event.type == pygame.QUIT:				pygame.quit()				quit()		game_display.fill(white)		button("Green", 150, 10, 500, 80, green, bright_green, game_intro, green)		button("Blue", 150, 110, 500, 80, green, bright_green, game_intro, blue)		button("Yellow", 150, 210, 500, 80, green, bright_green, game_intro, yellow)		button("Purple", 150, 310, 500, 80, green, bright_green, game_intro, purple)		button("Red", 150, 410, 500, 80, green, bright_green, game_intro, red)		button("Pink", 150, 510, 500, 80, green, bright_green, game_intro, pink)		pygame.display.update()		clock.tick(15)def crash():	# Reset on crash	global car_x, car_y, thing_start_x, thing_start_y, dodged	car_x = display_width / 2 - car_width / 2	car_y = display_height * 0.8	thing_start_x = random.randrange(0, display_width - thing_width)	thing_start_y = -500	dodged = 0	game_display.fill(white)	text = pygame.font.SysFont(None, 115)	text_surf = text.render("You crashed!", True, black)	text_rect = text_surf.get_rect()	text_rect.center = (display_width / 2, display_height / 2)	game_display.blit(text_surf, text_rect)	while True:		for event in pygame.event.get():			if event.type == pygame.QUIT:				pygame.quit()				quit()		button("Main Menu", 50, 450, 300, 50, green, bright_green, game_intro)		button("Quit", 450, 450, 300, 50, red, bright_red, quit)		pygame.display.flip()		clock.tick(15)def things_dodged():	font = pygame.font.SysFont(None, 25)	text = font.render("Dodged: " + str(dodged), True, black)	game_display.blit(text, (0, 0))def car():	game_display.blit(car_img, (car_x, car_y))def thing():	pygame.draw.rect(game_display, thing_color, [thing_start_x, thing_start_y, thing_width, thing_height])	# pygame.display.flip()def play():	global car_x, x_change, thing_start_x, thing_start_y, thing_speed, dodged	while True:		for event in pygame.event.get():			if event.type == pygame.QUIT:				pygame.quit()				quit()			if event.type == pygame.KEYDOWN:				if event.key == pygame.K_LEFT:					x_change = -car_turn				elif event.key == pygame.K_RIGHT:					x_change = car_turn				elif event.key == pygame.K_UP:					x_change = 0		car_x += x_change		game_display.fill(white)		thing()		thing_start_y += thing_speed		car()		things_dodged()		if (car_x > display_width - car_width) or (car_x < 0):			crash()		if thing_start_y > display_height:			thing_start_y = -thing_height			thing_start_x = random.randrange(0, display_width - thing_width)			dodged += 1			if dodged % 5 == 0:				thing_speed += 1			if dodged % 6 == 0:				thing_speed -= 1			if dodged % 10 == 0:				thing_speed += 2		if car_x + car_width > thing_start_x and car_x < thing_start_x + thing_width:			if car_y + car_height > thing_start_y and car_y < thing_start_y + thing_height:				crash()		pygame.display.flip()		clock.tick(30)def button(message, x, y, width, height, inactive_color, active_color, action = None, color_change = None):	mouse = pygame.mouse.get_pos()	click = pygame.mouse.get_pressed()	if x + width > mouse[0] > x and y + height > mouse[1] > y:		pygame.draw.rect(game_display, active_color, (x, y, width, height))		if click[0] == 1 and color_change != None:			global thing_color			thing_color = color_change		if click[0] == 1 and action != None:			action()	else:		pygame.draw.rect(game_display, inactive_color, (x, y, width, height))	text = pygame.font.SysFont(None, 50)	# text_surf, text_rect = text_object(message, text)	text_surf = text.render(message, True, black)	text_rect = text_surf.get_rect()	text_rect.center = ( (x + width / 2), (y + height / 2) )	game_display.blit(text_surf, text_rect)def game_intro():	while True:		for event in pygame.event.get():			if event.type == pygame.QUIT:				pygame.quit()				quit()		game_display.fill(white)		button("Play", 150, 10, 500, 80, green, bright_green, play)		button("Select Car", 150, 110, 500, 80, green, bright_green, None)		button("Select Theme", 150, 210, 500, 80, green, bright_green, select_theme)		button("Donate", 150, 310, 500, 80, green, bright_green, None)		button("About", 150, 410, 500, 80, green, bright_green, None)		button("Quit", 150, 510, 500, 80, green, bright_green, quit)		pygame.display.update()		clock.tick(15)###############################game_intro()